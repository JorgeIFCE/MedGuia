{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jorge Lu\\xEDs\\\\Desktop\\\\Programador\\\\Programados\\\\MedGuia\\\\medguia\\\\frontend\\\\src\\\\components\\\\PrescriptionModal.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport jsPDF from \"jspdf\";\nimport \"jspdf-autotable\";\nimport \"./PrescriptionModal.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PrescriptionModal({\n  qtdMedicamentos,\n  onClose\n}) {\n  _s();\n  const [medicamentos, setMedicamentos] = useState([]);\n\n  // Criar linhas din√¢micas quando abrir\n  useEffect(() => {\n    const linhas = Array.from({\n      length: qtdMedicamentos\n    }, () => ({\n      nome: \"\",\n      vezesAoDia: \"\",\n      dias: \"\"\n    }));\n    setMedicamentos(linhas);\n  }, [qtdMedicamentos]);\n  const handleChange = (index, field, value) => {\n    const updated = [...medicamentos];\n    updated[index][field] = value;\n    setMedicamentos(updated);\n  };\n\n  // üìÑ Fun√ß√£o de gerar PDF REAL com jsPDF\n  const gerarPDF = () => {\n    const doc = new jsPDF();\n    doc.setFontSize(20);\n    doc.text(\"MedGuia\", 105, 15, {\n      align: \"center\"\n    });\n    doc.setFontSize(13);\n    doc.text(\"Receita M√©dica\", 105, 28, {\n      align: \"center\"\n    });\n\n    // Tabela com jsPDF autotable\n    const tabela = medicamentos.map((m, i) => [m.nome || \"-\", m.vezesAoDia || \"-\", m.dias || \"-\"]);\n    doc.autoTable({\n      startY: 40,\n      head: [[\"Medicamento\", \"Vezes ao dia\", \"Dias\"]],\n      body: tabela,\n      theme: \"grid\",\n      headStyles: {\n        fillColor: [33, 150, 243]\n      }\n    });\n\n    // Assinatura\n    const finalY = doc.lastAutoTable.finalY + 30;\n    doc.line(40, finalY, 160, finalY);\n    doc.text(\"Assinatura\", 105, finalY + 7, {\n      align: \"center\"\n    });\n\n    // Data\n    const data = new Date().toLocaleDateString(\"pt-BR\");\n    doc.text(`Data: ${data}`, 40, finalY + 20);\n    doc.save(\"receita_medica.pdf\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay-r\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-r\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"MedGuia\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"med-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Medicamento\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Vezes ao dia\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Per\\xEDodo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), medicamentos.map((m, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Nome do medicamento\",\n            value: m.nome,\n            onChange: e => handleChange(index, \"nome\", e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            placeholder: \"Vezes ao dia\",\n            value: m.vezesAoDia,\n            onChange: e => handleChange(index, \"vezesAoDia\", e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            placeholder: \"Dias\",\n            value: m.dias,\n            onChange: e => handleChange(index, \"dias\", e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-footer-r\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-download\",\n          onClick: gerarPDF,\n          children: \"Baixar PDF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-close\",\n          onClick: onClose,\n          children: \"Fechar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n_s(PrescriptionModal, \"77SOdnw2NNp7PJhw3MjQWzUmxVM=\");\n_c = PrescriptionModal;\nexport default PrescriptionModal;\nvar _c;\n$RefreshReg$(_c, \"PrescriptionModal\");","map":{"version":3,"names":["React","useEffect","useState","jsPDF","jsxDEV","_jsxDEV","PrescriptionModal","qtdMedicamentos","onClose","_s","medicamentos","setMedicamentos","linhas","Array","from","length","nome","vezesAoDia","dias","handleChange","index","field","value","updated","gerarPDF","doc","setFontSize","text","align","tabela","map","m","i","autoTable","startY","head","body","theme","headStyles","fillColor","finalY","lastAutoTable","line","data","Date","toLocaleDateString","save","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","e","target","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Jorge Lu√≠s/Desktop/Programador/Programados/MedGuia/medguia/frontend/src/components/PrescriptionModal.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport \"./PrescriptionModal.css\";\r\n\r\nfunction PrescriptionModal({ qtdMedicamentos, onClose }) {\r\n  const [medicamentos, setMedicamentos] = useState([]);\r\n\r\n  // Criar linhas din√¢micas quando abrir\r\n  useEffect(() => {\r\n    const linhas = Array.from({ length: qtdMedicamentos }, () => ({\r\n      nome: \"\",\r\n      vezesAoDia: \"\",\r\n      dias: \"\",\r\n    }));\r\n    setMedicamentos(linhas);\r\n  }, [qtdMedicamentos]);\r\n\r\n  const handleChange = (index, field, value) => {\r\n    const updated = [...medicamentos];\r\n    updated[index][field] = value;\r\n    setMedicamentos(updated);\r\n  };\r\n\r\n  // üìÑ Fun√ß√£o de gerar PDF REAL com jsPDF\r\n  const gerarPDF = () => {\r\n    const doc = new jsPDF();\r\n\r\n    doc.setFontSize(20);\r\n    doc.text(\"MedGuia\", 105, 15, { align: \"center\" });\r\n\r\n    doc.setFontSize(13);\r\n    doc.text(\"Receita M√©dica\", 105, 28, { align: \"center\" });\r\n\r\n    // Tabela com jsPDF autotable\r\n    const tabela = medicamentos.map((m, i) => [\r\n      m.nome || \"-\",\r\n      m.vezesAoDia || \"-\",\r\n      m.dias || \"-\",\r\n    ]);\r\n\r\n    doc.autoTable({\r\n      startY: 40,\r\n      head: [[\"Medicamento\", \"Vezes ao dia\", \"Dias\"]],\r\n      body: tabela,\r\n      theme: \"grid\",\r\n      headStyles: { fillColor: [33, 150, 243] },\r\n    });\r\n\r\n    // Assinatura\r\n    const finalY = doc.lastAutoTable.finalY + 30;\r\n    doc.line(40, finalY, 160, finalY);\r\n    doc.text(\"Assinatura\", 105, finalY + 7, { align: \"center\" });\r\n\r\n    // Data\r\n    const data = new Date().toLocaleDateString(\"pt-BR\");\r\n    doc.text(`Data: ${data}`, 40, finalY + 20);\r\n\r\n    doc.save(\"receita_medica.pdf\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal-overlay-r\">\r\n      <div className=\"modal-r\">\r\n        <h1>MedGuia</h1>\r\n\r\n        <div className=\"med-table\">\r\n          <div className=\"table-header\">\r\n            <span>Medicamento</span>\r\n            <span>Vezes ao dia</span>\r\n            <span>Per√≠odo</span>\r\n          </div>\r\n\r\n          {medicamentos.map((m, index) => (\r\n            <div key={index} className=\"table-row\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Nome do medicamento\"\r\n                value={m.nome}\r\n                onChange={(e) =>\r\n                  handleChange(index, \"nome\", e.target.value)\r\n                }\r\n              />\r\n\r\n              <input\r\n                type=\"number\"\r\n                placeholder=\"Vezes ao dia\"\r\n                value={m.vezesAoDia}\r\n                onChange={(e) =>\r\n                  handleChange(index, \"vezesAoDia\", e.target.value)\r\n                }\r\n              />\r\n\r\n              <input\r\n                type=\"number\"\r\n                placeholder=\"Dias\"\r\n                value={m.dias}\r\n                onChange={(e) =>\r\n                  handleChange(index, \"dias\", e.target.value)\r\n                }\r\n              />\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"modal-footer-r\">\r\n          <button className=\"btn-download\" onClick={gerarPDF}>\r\n            Baixar PDF\r\n          </button>\r\n\r\n          <button className=\"btn-close\" onClick={onClose}>\r\n            Fechar\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PrescriptionModal;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,iBAAiB;AACxB,OAAO,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjC,SAASC,iBAAiBA,CAAC;EAAEC,eAAe;EAAEC;AAAQ,CAAC,EAAE;EAAAC,EAAA;EACvD,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;;EAEpD;EACAD,SAAS,CAAC,MAAM;IACd,MAAMW,MAAM,GAAGC,KAAK,CAACC,IAAI,CAAC;MAAEC,MAAM,EAAER;IAAgB,CAAC,EAAE,OAAO;MAC5DS,IAAI,EAAE,EAAE;MACRC,UAAU,EAAE,EAAE;MACdC,IAAI,EAAE;IACR,CAAC,CAAC,CAAC;IACHP,eAAe,CAACC,MAAM,CAAC;EACzB,CAAC,EAAE,CAACL,eAAe,CAAC,CAAC;EAErB,MAAMY,YAAY,GAAGA,CAACC,KAAK,EAAEC,KAAK,EAAEC,KAAK,KAAK;IAC5C,MAAMC,OAAO,GAAG,CAAC,GAAGb,YAAY,CAAC;IACjCa,OAAO,CAACH,KAAK,CAAC,CAACC,KAAK,CAAC,GAAGC,KAAK;IAC7BX,eAAe,CAACY,OAAO,CAAC;EAC1B,CAAC;;EAED;EACA,MAAMC,QAAQ,GAAGA,CAAA,KAAM;IACrB,MAAMC,GAAG,GAAG,IAAItB,KAAK,CAAC,CAAC;IAEvBsB,GAAG,CAACC,WAAW,CAAC,EAAE,CAAC;IACnBD,GAAG,CAACE,IAAI,CAAC,SAAS,EAAE,GAAG,EAAE,EAAE,EAAE;MAAEC,KAAK,EAAE;IAAS,CAAC,CAAC;IAEjDH,GAAG,CAACC,WAAW,CAAC,EAAE,CAAC;IACnBD,GAAG,CAACE,IAAI,CAAC,gBAAgB,EAAE,GAAG,EAAE,EAAE,EAAE;MAAEC,KAAK,EAAE;IAAS,CAAC,CAAC;;IAExD;IACA,MAAMC,MAAM,GAAGnB,YAAY,CAACoB,GAAG,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK,CACxCD,CAAC,CAACf,IAAI,IAAI,GAAG,EACbe,CAAC,CAACd,UAAU,IAAI,GAAG,EACnBc,CAAC,CAACb,IAAI,IAAI,GAAG,CACd,CAAC;IAEFO,GAAG,CAACQ,SAAS,CAAC;MACZC,MAAM,EAAE,EAAE;MACVC,IAAI,EAAE,CAAC,CAAC,aAAa,EAAE,cAAc,EAAE,MAAM,CAAC,CAAC;MAC/CC,IAAI,EAAEP,MAAM;MACZQ,KAAK,EAAE,MAAM;MACbC,UAAU,EAAE;QAAEC,SAAS,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,GAAG;MAAE;IAC1C,CAAC,CAAC;;IAEF;IACA,MAAMC,MAAM,GAAGf,GAAG,CAACgB,aAAa,CAACD,MAAM,GAAG,EAAE;IAC5Cf,GAAG,CAACiB,IAAI,CAAC,EAAE,EAAEF,MAAM,EAAE,GAAG,EAAEA,MAAM,CAAC;IACjCf,GAAG,CAACE,IAAI,CAAC,YAAY,EAAE,GAAG,EAAEa,MAAM,GAAG,CAAC,EAAE;MAAEZ,KAAK,EAAE;IAAS,CAAC,CAAC;;IAE5D;IACA,MAAMe,IAAI,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,OAAO,CAAC;IACnDpB,GAAG,CAACE,IAAI,CAAC,SAASgB,IAAI,EAAE,EAAE,EAAE,EAAEH,MAAM,GAAG,EAAE,CAAC;IAE1Cf,GAAG,CAACqB,IAAI,CAAC,oBAAoB,CAAC;EAChC,CAAC;EAED,oBACEzC,OAAA;IAAK0C,SAAS,EAAC,iBAAiB;IAAAC,QAAA,eAC9B3C,OAAA;MAAK0C,SAAS,EAAC,SAAS;MAAAC,QAAA,gBACtB3C,OAAA;QAAA2C,QAAA,EAAI;MAAO;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAEhB/C,OAAA;QAAK0C,SAAS,EAAC,WAAW;QAAAC,QAAA,gBACxB3C,OAAA;UAAK0C,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3B3C,OAAA;YAAA2C,QAAA,EAAM;UAAW;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACxB/C,OAAA;YAAA2C,QAAA,EAAM;UAAY;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACzB/C,OAAA;YAAA2C,QAAA,EAAM;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjB,CAAC,EAEL1C,YAAY,CAACoB,GAAG,CAAC,CAACC,CAAC,EAAEX,KAAK,kBACzBf,OAAA;UAAiB0C,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACpC3C,OAAA;YACEgD,IAAI,EAAC,MAAM;YACXC,WAAW,EAAC,qBAAqB;YACjChC,KAAK,EAAES,CAAC,CAACf,IAAK;YACduC,QAAQ,EAAGC,CAAC,IACVrC,YAAY,CAACC,KAAK,EAAE,MAAM,EAAEoC,CAAC,CAACC,MAAM,CAACnC,KAAK;UAC3C;YAAA2B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC,eAEF/C,OAAA;YACEgD,IAAI,EAAC,QAAQ;YACbC,WAAW,EAAC,cAAc;YAC1BhC,KAAK,EAAES,CAAC,CAACd,UAAW;YACpBsC,QAAQ,EAAGC,CAAC,IACVrC,YAAY,CAACC,KAAK,EAAE,YAAY,EAAEoC,CAAC,CAACC,MAAM,CAACnC,KAAK;UACjD;YAAA2B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC,eAEF/C,OAAA;YACEgD,IAAI,EAAC,QAAQ;YACbC,WAAW,EAAC,MAAM;YAClBhC,KAAK,EAAES,CAAC,CAACb,IAAK;YACdqC,QAAQ,EAAGC,CAAC,IACVrC,YAAY,CAACC,KAAK,EAAE,MAAM,EAAEoC,CAAC,CAACC,MAAM,CAACnC,KAAK;UAC3C;YAAA2B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC;QAAA,GA1BMhC,KAAK;UAAA6B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OA2BV,CACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAEN/C,OAAA;QAAK0C,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7B3C,OAAA;UAAQ0C,SAAS,EAAC,cAAc;UAACW,OAAO,EAAElC,QAAS;UAAAwB,QAAA,EAAC;QAEpD;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAET/C,OAAA;UAAQ0C,SAAS,EAAC,WAAW;UAACW,OAAO,EAAElD,OAAQ;UAAAwC,QAAA,EAAC;QAEhD;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC3C,EAAA,CAhHQH,iBAAiB;AAAAqD,EAAA,GAAjBrD,iBAAiB;AAkH1B,eAAeA,iBAAiB;AAAC,IAAAqD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}